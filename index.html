<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Candyshop | Premium Roblox Experience</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;900&display=swap" rel="stylesheet">
  <style>
    :root { 
      --bg: #050505; 
      --pink: #ff00cc; 
      --cyan: #00dbde; 
      --violet: #7000ff;
      --glass: rgba(255, 255, 255, 0.03); 
      --border: rgba(255, 255, 255, 0.1); 
    }

    * { margin: 0; padding: 0; box-sizing: border-box; outline: none; }
    body { background: var(--bg); color: #fff; font-family: 'Outfit', sans-serif; overflow-x: hidden; scroll-behavior: smooth; }

    /* --- T≈ÅO ANIMOWANE --- */
    .bg-animation { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }
    .glow { position: absolute; border-radius: 50%; filter: blur(150px); opacity: 0.2; animation: move 20s infinite alternate; }
    .g1 { width: 400px; height: 400px; background: var(--pink); top: -100px; left: -100px; }
    .g2 { width: 500px; height: 500px; background: var(--cyan); bottom: -150px; right: -100px; animation-delay: -5s; }
    @keyframes move { from { transform: translate(0,0); } to { transform: translate(200px, 100px); } }

    /* --- NAVBAR --- */
    .nav { display: flex; justify-content: space-between; align-items: center; padding: 25px 8%; position: sticky; top: 0; backdrop-filter: blur(20px); border-bottom: 1px solid var(--border); z-index: 1000; }
    .nav img { width: 140px; cursor: pointer; transition: 0.3s; }
    .nav img:hover { filter: drop-shadow(0 0 10px var(--pink)); transform: scale(1.05); }
    .nav-links { display: flex; gap: 30px; align-items: center; }
    .nav-links a { color: #888; text-decoration: none; font-weight: 600; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; transition: 0.3s; }
    .nav-links a:hover { color: #fff; }
    .btn-login { background: var(--pink); color: #fff; padding: 12px 25px; border-radius: 12px; font-weight: 900; cursor: pointer; border: none; box-shadow: 0 5px 20px rgba(255,0,204,0.3); transition: 0.3s; }
    .btn-login:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(255,0,204,0.5); }

    /* --- HERO --- */
    .hero { min-height: 85vh; display: flex; align-items: center; padding: 0 10%; gap: 50px; }
    .hero-content { flex: 1.2; }
    .hero-content h1 { font-size: clamp(4rem, 8vw, 7.5rem); line-height: 0.85; font-weight: 900; background: linear-gradient(to right, #fff, var(--pink), var(--cyan)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 25px; }
    .hero-content p { color: #aaa; font-size: 1.2rem; max-width: 550px; line-height: 1.6; margin-bottom: 35px; }
    .hero-image { flex: 0.8; display: flex; justify-content: flex-end; }
    .hero-image img { width: 100%; max-width: 500px; filter: drop-shadow(0 0 50px rgba(255,0,204,0.3)); animation: float 6s infinite ease-in-out; }
    @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-30px); } }

    /* --- LOGIN MODAL (PIƒòKNIEJSZY) --- */
    .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; align-items: center; justify-content: center; z-index: 2000; backdrop-filter: blur(10px); }
    .modal-box { background: #0f0f0f; border: 1px solid var(--border); padding: 50px; border-radius: 40px; width: 450px; position: relative; box-shadow: 0 0 100px rgba(0,0,0,1); text-align: center; }
    .modal-box h2 { font-size: 2.5rem; margin-bottom: 30px; font-weight: 900; }
    .modal-box input { width: 100%; padding: 18px; margin-bottom: 20px; background: #1a1a1a; border: 1px solid var(--border); border-radius: 15px; color: #fff; font-family: inherit; font-size: 1rem; transition: 0.3s; }
    .modal-box input:focus { border-color: var(--pink); box-shadow: 0 0 15px rgba(255,0,204,0.2); }
    .modal-submit { width: 100%; padding: 18px; background: var(--pink); border: none; border-radius: 15px; color: #fff; font-weight: 900; font-size: 1.1rem; cursor: pointer; margin-top: 10px; }
    .close-modal { position: absolute; top: 25px; right: 25px; cursor: pointer; color: #444; font-size: 1.5rem; }

    /* --- CHAT (STYL MESSENGER) --- */
    #chat-btn { position: fixed; bottom: 40px; right: 40px; width: 70px; height: 70px; background: var(--pink); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 10px 40px rgba(255,0,204,0.4); z-index: 1000; transition: 0.3s; font-size: 1.5rem; }
    #chat-window { position: fixed; bottom: 120px; right: 40px; width: 380px; height: 550px; background: #0d0d0d; border: 1px solid var(--border); border-radius: 30px; display: none; flex-direction: column; z-index: 1001; overflow: hidden; box-shadow: 0 20px 60px rgba(0,0,0,0.8); }
    .chat-head { padding: 25px; background: var(--glass); border-bottom: 1px solid var(--border); font-weight: 900; display: flex; align-items: center; gap: 10px; }
    .chat-head::before { content: ''; width: 12px; height: 12px; background: #00ff00; border-radius: 50%; box-shadow: 0 0 10px #00ff00; }
    .chat-msgs { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 12px; }
    .bubble { padding: 12px 18px; border-radius: 20px; max-width: 80%; line-height: 1.4; font-size: 0.95rem; }
    .admin { background: var(--border); align-self: flex-start; border-bottom-left-radius: 5px; }
    .user { background: var(--pink); align-self: flex-end; border-bottom-right-radius: 5px; }
    .chat-in { padding: 20px; display: flex; gap: 10px; background: #080808; }
    .chat-in input { flex: 1; background: #151515; border: none; padding: 12px; border-radius: 12px; color: #fff; }

    /* --- SEKTY SKLEPU --- */
    .section { padding: 100px 10%; }
    .reveal { opacity: 0; transform: translateY(30px); transition: 1s; }
    .reveal.active { opacity: 1; transform: translateY(0); }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 40px; margin-top: 50px; }
    .card { background: var(--glass); border: 1px solid var(--border); border-radius: 35px; padding: 20px; transition: 0.5s; cursor: pointer; }
    .card:hover { transform: translateY(-15px); border-color: var(--pink); box-shadow: 0 20px 40px rgba(255,0,204,0.1); }
    .card img { width: 100%; height: 350px; object-fit: cover; border-radius: 25px; }
  </style>
</head>
<body>

  <div class="bg-animation">
    <div class="glow g1"></div>
    <div class="glow g2"></div>
  </div>

  <nav class="nav">
    <img src="images/logo.png" alt="Candyshop" onclick="window.location.reload()">
    <div class="nav-links">
      <a href="#store">Sklep</a>
      <a href="kontakt.html">Kontakt</a>
      <button class="btn-login" onclick="openModal()">Zaloguj siƒô</button>
    </div>
  </nav>

  <section class="hero">
    <div class="hero-content">
      <h1>CANDY<br>SHOP</h1>
      <p>Odkryj najbardziej unikalne przedmioty w Roblox. Szybka dostawa, pe≈Çne bezpiecze≈Ñstwo i elitarny towar tylko u nas.</p>
      <a href="#store" style="text-decoration: none; padding: 20px 45px; background: #fff; color: #000; border-radius: 15px; font-weight: 900; display: inline-block;">ZOBACZ DROP</a>
    </div>
    <div class="hero-image">
      <img src="images/Hero.png" alt="Hero">
    </div>
  </section>

  <section class="section" id="store">
    <h2 style="font-size: 3rem; font-weight: 900;">LIVE MARKET</h2>
    <div class="grid" id="grid"></div>
  </section>

  <div class="modal" id="loginModal">
    <div class="modal-box">
      <span class="close-modal" onclick="closeModal()">&times;</span>
      <h2 id="modalTitle">LOGOWANIE</h2>
      <input type="text" id="username" placeholder="Twoja nazwa / Email">
      <input type="password" id="password" placeholder="Twoje has≈Ço">
      <button class="modal-submit" onclick="handleAuth()">KONTYNUUJ</button>
      <p id="toggleText" onclick="toggleAuth()" style="margin-top: 25px; font-size: 0.9rem; color: #666; cursor: pointer;">Nie masz konta? <span style="color: var(--pink);">Zarejestruj siƒô</span></p>
    </div>
  </div>

  <div id="chat-btn" onclick="toggleChat()">üí¨</div>
  <div id="chat-window">
    <div class="chat-head">Czat z Adminem</div>
    <div class="chat-msgs" id="chatMsgs">
      <div class="bubble admin">Cze≈õƒá! Capek i Sisi sƒÖ online. W czym mo≈ºemy pom√≥c?</div>
    </div>
    <div class="chat-in">
      <input type="text" id="chatInput" placeholder="Napisz do nas...">
      <button onclick="send()" style="background: var(--pink); border: none; padding: 10px 15px; border-radius: 10px; color: #fff; font-weight: 900;">></button>
    </div>
  </div>

  <script>
    // --- SKLEP ---
    function loadProducts() {
      const items = JSON.parse(localStorage.getItem('candyProducts')) || [];
      const grid = document.getElementById('grid');
      grid.innerHTML = items.map((p, i) => `
        <div class="card reveal" onclick="location.href='produkt.html?id=${i}'">
          <img src="${p.img}">
          <h3 style="margin-top:20px; font-size: 1.5rem;">${p.name}</h3>
          <p style="color: var(--cyan); font-weight: 900; font-size: 1.3rem; margin-top: 5px;">${p.price}</p>
        </div>`).join('');
      scrollReveal();
    }

    // --- LOGOWANIE (FRONTEND) ---
    function openModal() { document.getElementById('loginModal').style.display = 'flex'; }
    function closeModal() { document.getElementById('loginModal').style.display = 'none'; }
    
    let isLogin = true;
    function toggleAuth() {
      isLogin = !isLogin;
      document.getElementById('modalTitle').innerText = isLogin ? 'LOGOWANIE' : 'REJESTRACJA';
      document.getElementById('toggleText').innerHTML = isLogin ? 'Nie masz konta? <span style="color:var(--pink)">Zarejestruj siƒô</span>' : 'Masz ju≈º konto? <span style="color:var(--pink)">Zaloguj siƒô</span>';
    }

    function handleAuth() {
      const user = document.getElementById('username').value;
      if(!user) { alert("Podaj nazwƒô u≈ºytkownika!"); return; }
      
      // Symulacja bazy danych:
      localStorage.setItem('currentUser', user);
      alert(isLogin ? "Zalogowano pomy≈õlnie jako " + user : "Konto utworzone dla " + user);
      closeModal();
      document.querySelector('.btn-login').innerText = user.toUpperCase();
    }

    // --- CZAT ---
    function toggleChat() {
      const chat = document.getElementById('chat-window');
      chat.style.display = chat.style.display === 'flex' ? 'none' : 'flex';
    }

    function send() {
      const input = document.getElementById('chatInput');
      const box = document.getElementById('chatMsgs');
      if(!input.value) return;

      box.innerHTML += `<div class="bubble user">${input.value}</div>`;
      const userText = input.value.toLowerCase();
      input.value = '';

      // Prosta AI/Admin Bot
      setTimeout(() => {
        let reply = "Poczekaj chwilƒô, sprawdzam to dla Ciebie...";
        if(userText.includes("cena")) reply = "Ceny sƒÖ podane przy produktach, ale przy wiƒôkszych zam√≥wieniach dajemy zni≈ºki!";
        if(userText.includes("dostawa")) reply = "Dostarczamy zwykle w 15-30 minut!";
        
        box.innerHTML += `<div class="bubble admin">${reply}</div>`;
        box.scrollTop = box.scrollHeight;
      }, 1000);
    }

    // --- ANIMACJE ---
    function scrollReveal() {
      const reveals = document.querySelectorAll('.reveal');
      reveals.forEach(el => {
        if(el.getBoundingClientRect().top < window.innerHeight - 100) el.classList.add('active');
      });
    }

    window.addEventListener('scroll', scrollReveal);
    window.onload = loadProducts;
  </script>
</body>
</html>
